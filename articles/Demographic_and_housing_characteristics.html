<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Demographic and housing characteristics • hercdectables</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Demographic and housing characteristics">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hercdectables</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/hercdectables.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Demographic_and_housing_characteristics.html">Demographic and housing characteristics</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/higherX4Racine/herdectables" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Demographic and housing characteristics</h1>
            
      

      <div class="d-none name"><code>Demographic_and_housing_characteristics.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="why-the-dhc">Why the DHC?<a class="anchor" aria-label="anchor" href="#why-the-dhc"></a>
</h2>
<p>The 2020 Demographic and Housing Characteristics file <a href="http://api.census.gov/data/2020/dec/dhc.html" class="external-link">(DHC)</a> is a table
with detailed, block-level information about socioeconomic
conditions.</p>
<p>The Census API has <a href="https://api.census.gov/data/2020/dec.html" class="external-link">other tables</a> from
the Decennial Census, but they lack the level of detail in the DHC. Some
tables lack spatial resolution. For example, tables like the <a href="http://api.census.gov/data/2020/dec/dp.html" class="external-link">Demographic Profile
(DP)</a> or the <a href="http://api.census.gov/data/2020/dec/cd119.html" class="external-link">Congressional
District (cd11X)</a> do not provide data at the block level. Other
tables lack demographic resolution. For example the table of <a href="http://api.census.gov/data/2020/dec/pl.html" class="external-link">Redistricting Data
(PL)</a> contains many fewer cross-tabulations between race and housing
situation. The DHC provides fine-grained detail, as can be seen in its
definition from the link above:</p>
<blockquote>
<p>This product will include topics such as age, sex, race, Hispanic or
Latino origin, household type, family type, relationship to householder,
group quarters population, housing occupancy and housing tenure. Some
tables will be iterated by race and ethnicity.</p>
</blockquote>
<p>That ambitious portfolio means that the DHC is huge and complex, with
249 <a href="http://api.census.gov/data/2020/dec/dhc/groups.html" class="external-link">groups</a>,
or sub-tables, that hold a total of 9067 separate <a href="http://api.census.gov/data/2020/dec/dhc/variables.html" class="external-link">variables</a>.
I used the Census API to create a data table in R that captures the
information from the link just above. These variables provide a compact
way for the API to present information, but they need some assistance to
be meaningful to actual humans. That is where glossary tables come
in.</p>
</div>
<div class="section level2">
<h2 id="glossary-tables-for-dhc-groups">Glossary tables for DHC groups<a class="anchor" aria-label="anchor" href="#glossary-tables-for-dhc-groups"></a>
</h2>
<p>A glossary table explicitly lays out the connection between the row
number of a Census API variable and the demographic meaning that it
represents. For example, the single variable “H12B_010N”, might reports
the number of rented households that are headed by a Black,
non-Hispanic, householder. That captures information about race,
ethnicity, home ownership, and number of households. A glossary that
explains group H12B would therefore need at least 4 columns.</p>
<p>This report documents the process that I will follow to create a
glossary table for each group in the DHC.</p>
</div>
<div class="section level2">
<h2 id="characteristics-of-each-group">Characteristics of each group<a class="anchor" aria-label="anchor" href="#characteristics-of-each-group"></a>
</h2>
<p>The glossary for each group will need enough columns to represent all
of the detail that is captured by its rows. The first step for glossing
a group is to count how many columns appear in its variables’ lists of
details.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DHC_VARIABLES</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>        `Columns Present` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Details</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_int</a></span><span class="op">(</span><span class="va">length</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        .by <span class="op">=</span> <span class="st">"Group"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span><span class="op">(</span></span>
<span>        <span class="va">.data</span><span class="op">$</span><span class="va">`Columns Present`</span>,</span>
<span>        name <span class="op">=</span> <span class="st">"Frequency"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>        caption <span class="op">=</span> <span class="st">"How many detail columns are needed by DHC groups."</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>How many detail columns are needed by DHC groups.</caption>
<thead><tr class="header">
<th align="right">Columns Present</th>
<th align="right">Frequency</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">2</td>
<td align="right">46</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">112</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">45</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="right">43</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>Most of the groups will need three or fewer columns to capture their
details, but many will need more. Three different tables will need six
columns! We’ll use those as examples as we proceed.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">hoist_group_details</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">.glossary</span>, <span class="va">.group</span>, <span class="va">.fields</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">.field_list</span> <span class="op">&lt;-</span> <span class="va">.fields</span> <span class="op">|&gt;</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>        <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/set_names.html" class="external-link">set_names</a></span><span class="op">(</span><span class="va">.fields</span><span class="op">)</span></span>
<span>    <span class="va">.glossary</span> <span class="op">|&gt;</span></span>
<span>        <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">Group</span> <span class="op">==</span> <span class="va">.group</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>        <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/hoist.html" class="external-link">hoist</a></span><span class="op">(</span>.col <span class="op">=</span> <span class="st">"Details"</span>, <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">.field_list</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">GROUP_DETAILS</span> <span class="op">&lt;-</span> <span class="va">DHC_VARIABLES</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span></span>
<span>        Concept <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nth.html" class="external-link">first</a></span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">Concept</span><span class="op">)</span>,</span>
<span>        Length <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        Width <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Details</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map_int</a></span><span class="op">(</span><span class="va">length</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>        .by <span class="op">=</span> <span class="st">"Group"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        Variables <span class="op">=</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map2.html" class="external-link">map2</a></span><span class="op">(</span></span>
<span>            <span class="va">.data</span><span class="op">$</span><span class="va">Group</span>, <span class="va">.data</span><span class="op">$</span><span class="va">Width</span>,</span>
<span>            \<span class="op">(</span><span class="va">.g</span>, <span class="va">.c</span><span class="op">)</span> <span class="op">{</span></span>
<span>                <span class="va">.tmp</span> <span class="op">&lt;-</span> <span class="va">DHC_VARIABLES</span> <span class="op">|&gt;</span></span>
<span>                    <span class="fu">hoist_group_details</span><span class="op">(</span></span>
<span>                        <span class="va">.g</span>,</span>
<span>                        <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">.c</span><span class="op">]</span></span>
<span>                    <span class="op">)</span></span>
<span>                <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">.tmp</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span><span class="op">)</span> <span class="op">{</span></span>
<span>                    <span class="va">.tmp</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">.tmp</span>,</span>
<span>                                          <span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/where.html" class="external-link">where</a></span><span class="op">(</span></span>
<span>                                              \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">1</span></span>
<span>                                          <span class="op">)</span><span class="op">)</span></span>
<span>                <span class="op">}</span></span>
<span>                <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>                    <span class="va">.tmp</span>,</span>
<span>                    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="va">.c</span><span class="op">]</span><span class="op">)</span>,</span>
<span>                                  \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/coalesce.html" class="external-link">coalesce</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span>                <span class="op">)</span></span>
<span>            <span class="op">}</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">EXAMPLE_GROUPS</span> <span class="op">&lt;-</span> <span class="va">GROUP_DETAILS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">.data</span><span class="op">$</span><span class="va">Width</span> <span class="op">==</span> <span class="fl">6</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>        <span class="op">!</span><span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Variables"</span>, <span class="st">"Width"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    <span class="va">EXAMPLE_GROUPS</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"DHC groups that need six columns to capture their details"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>DHC groups that need six columns to capture their
details</caption>
<colgroup>
<col width="7%">
<col width="82%">
<col width="9%">
</colgroup>
<thead><tr class="header">
<th align="left">Group</th>
<th align="left">Concept</th>
<th align="right">Length</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">H14</td>
<td align="left">TENURE BY HOUSEHOLD TYPE BY AGE OF HOUSEHOLDER</td>
<td align="right">69</td>
</tr>
<tr class="even">
<td align="left">PCT19</td>
<td align="left">GROUP QUARTERS POPULATION BY SEX BY AGE BY GROUP
QUARTERS TYPE</td>
<td align="right">195</td>
</tr>
<tr class="odd">
<td align="left">PCT2</td>
<td align="left">HOUSEHOLD SIZE BY HOUSEHOLD TYPE BY PRESENCE OF OWN
CHILDREN</td>
<td align="right">19</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="an-example-glossary-pct2">An example glossary: PCT2<a class="anchor" aria-label="anchor" href="#an-example-glossary-pct2"></a>
</h2>
<p>This is what the details of table PT2 look like after hoisting.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PCT2</span> <span class="op">&lt;-</span> <span class="va">GROUP_DETAILS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">.data</span><span class="op">$</span><span class="va">Group</span> <span class="op">==</span> <span class="st">"PCT2"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span></span>
<span>        <span class="st">"Variables"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html" class="external-link">pluck</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>    <span class="va">PCT2</span>,</span>
<span>    caption <span class="op">=</span> <span class="st">"The details of group PCT2"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>The details of group PCT2</caption>
<colgroup>
<col width="3%">
<col width="6%">
<col width="17%">
<col width="13%">
<col width="14%">
<col width="24%">
<col width="21%">
</colgroup>
<thead><tr class="header">
<th align="right">Index</th>
<th align="left">Variable</th>
<th align="left">B</th>
<th align="left">C</th>
<th align="left">D</th>
<th align="left">E</th>
<th align="left">F</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">PCT2_001N</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">PCT2_002N</td>
<td align="left">1-person household</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">PCT2_003N</td>
<td align="left">1-person household</td>
<td align="left">Male householder</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">PCT2_004N</td>
<td align="left">1-person household</td>
<td align="left">Female householder</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">PCT2_005N</td>
<td align="left">2-or-more-person household</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">PCT2_006N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">PCT2_007N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Married couple family</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="left">PCT2_008N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Married couple family</td>
<td align="left">With own children under 18 years</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">PCT2_009N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Married couple family</td>
<td align="left">No own children under 18 years</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">PCT2_010N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">PCT2_011N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left">Male householder, no spouse present</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="left">PCT2_012N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left">Male householder, no spouse present</td>
<td align="left">With own children under 18 years</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="left">PCT2_013N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left">Male householder, no spouse present</td>
<td align="left">No own children under 18 years</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="left">PCT2_014N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left">Female householder, no spouse present</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="left">PCT2_015N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left">Female householder, no spouse present</td>
<td align="left">With own children under 18 years</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="left">PCT2_016N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Family households</td>
<td align="left">Other family</td>
<td align="left">Female householder, no spouse present</td>
<td align="left">No own children under 18 years</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">PCT2_017N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Nonfamily households</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="left">PCT2_018N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Nonfamily households</td>
<td align="left">Male householder</td>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="left">PCT2_019N</td>
<td align="left">2-or-more-person household</td>
<td align="left">Nonfamily households</td>
<td align="left">Female householder</td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody>
</table>
<p>One of the devilish things about Census data is that the meaning of
the value in a particular row and column depends upon the structure of a
table. Consequently, we cannot look at each value by itself. We have to
try to make meaning of the entire table at once.</p>
<table class="table">
<caption>Glossed details from group PCT2</caption>
<colgroup>
<col width="8%">
<col width="8%">
<col width="14%">
<col width="12%">
<col width="9%">
<col width="22%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="right">Index</th>
<th align="right">Level</th>
<th align="left">One Person</th>
<th align="left">Children</th>
<th align="left">Family</th>
<th align="left">Male Householder</th>
<th align="left">Female Householder</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">1</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">4</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">3</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">15</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>Note that I use <code>NA</code> to represent the “any possible value”
state for a factor. I’m not sure that this is a good choice. It might be
better to use an explicit value like ““,”All”, or “*“. It does make
things consistent across factors and Boolean fields, though.</p>
<div class="section level3">
<h3 id="levels-of-summary">Levels of summary<a class="anchor" aria-label="anchor" href="#levels-of-summary"></a>
</h3>
<p>The worst thing about Census data files is that they include both
stand-alone observations and subtotals. That is what the
<code>Level</code> field is intended to capture. I am very open to
suggestions for better terminology.</p>
<p>Using the <code>Level</code> field, we can pull stand-alone rows.
Notice that none of these variables have <code>NA</code> in any of their
values. That was originally my way of detecting stand-alone rows, but I
can imagine a situation where some factor is simply irrelevant, rather
than aggregated, so I think it is better to explicitly note each row’s
level of aggregation.</p>
<table style="width:100%;" class="table">
<caption>Variables of PCT2 that are not subtotals or totals.</caption>
<colgroup>
<col width="11%">
<col width="7%">
<col width="7%">
<col width="12%">
<col width="10%">
<col width="8%">
<col width="20%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="left">Variable</th>
<th align="right">Index</th>
<th align="right">Level</th>
<th align="left">One Person</th>
<th align="left">Children</th>
<th align="left">Family</th>
<th align="left">Male Householder</th>
<th align="left">Female Householder</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">PCT2_003N</td>
<td align="right">3</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">PCT2_004N</td>
<td align="right">4</td>
<td align="right">0</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PCT2_008N</td>
<td align="right">8</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">PCT2_009N</td>
<td align="right">9</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PCT2_012N</td>
<td align="right">12</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">PCT2_013N</td>
<td align="right">13</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">PCT2_015N</td>
<td align="right">15</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">PCT2_016N</td>
<td align="right">16</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">PCT2_018N</td>
<td align="right">18</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">PCT2_019N</td>
<td align="right">19</td>
<td align="right">0</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>We can also pull rows that are aggregations of other rows’ values.
Note that each of these rows will definitely have some <code>NA</code>
values. The number of <code>NA</code>s in a row is proportional, but not
exactly equal, to its level of aggregation.</p>
<table style="width:100%;" class="table">
<caption>Variables of PCT2 that are subtotals or totals.</caption>
<colgroup>
<col width="7%">
<col width="11%">
<col width="7%">
<col width="12%">
<col width="10%">
<col width="8%">
<col width="20%">
<col width="22%">
</colgroup>
<thead><tr class="header">
<th align="right">Index</th>
<th align="left">Variable</th>
<th align="right">Level</th>
<th align="left">One Person</th>
<th align="left">Children</th>
<th align="left">Family</th>
<th align="left">Male Householder</th>
<th align="left">Female Householder</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">PCT2_001N</td>
<td align="right">5</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">PCT2_002N</td>
<td align="right">1</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">PCT2_005N</td>
<td align="right">4</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">PCT2_006N</td>
<td align="right">3</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td align="left">PCT2_007N</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td align="left">PCT2_010N</td>
<td align="right">2</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td align="left">PCT2_011N</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td align="left">PCT2_014N</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="right">17</td>
<td align="left">PCT2_017N</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ben Taft.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
